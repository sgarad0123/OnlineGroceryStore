# azure-pipelines.yml

trigger:
- main

pool:
  name: 'Default'  # Ensure this is the pool where your local agent is registered

jobs:
- job: BuildAndDeploy
  displayName: 'Build and Deploy to Local PC'
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.x'
        addToPath: true

    - script: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
      displayName: 'Install Dependencies'

    - task: CopyFiles@2
      inputs:
        SourceFolder: '$(Build.SourcesDirectory)'
        Contents: '**'
        TargetFolder: '\D$\ADO\ShubhamSource'  # Adjust this path to your local deployment directory

    - script: |
        nohup python /path/to/your/local/project/app.py &
      displayName: 'Run Application'
